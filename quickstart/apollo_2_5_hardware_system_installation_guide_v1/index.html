<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Apollo 2.5 Hardware and System Installation Guide - Apollo Docs</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Apollo 2.5 Hardware and System Installation Guide";
    var mkdocs_page_input_path = "quickstart/apollo_2_5_hardware_system_installation_guide_v1.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Apollo Docs</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Get Started</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">Quick Start</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../">Apollo</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">CyberRT</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../cyber/CyberRT_Quick_Start/">English Version</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../cyber/CyberRT_Quick_Start_cn/">Chinese Version</a>
                </li>
    </ul>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Cyber RT</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../cyber/">Introduction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../cyber/CyberRT_Terms/">Concepts and Terms</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../cyber/CyberRT_Docker/">MultiArch Support</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../cyber/CyberRT_Developer_Tools/">Cyber Tools</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../cyber/CyberRT_API_for_Developers/">C++ API</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Python API</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../cyber/CyberRT_Python_API/">English Version</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../cyber/CyberRT_Python_API_cn/">Chinese Version</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../cyber/CyberRT_Migration_Guide/">Migration from ROS</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Modules</span></p>
                <ul>
                    <li class="toctree-l1"><a class="" href="../../modules/perception/README.md">Perception</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="../../modules/control/README.md">Control</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="../../modules/canbus/README.md">Canbus</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="../../modules/monitor/README.md">Monitor</a>
                    </li>
                    <li class="toctree-l1"><a class="" href="../../modules/prediction/README.md">Prediction</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../modules/planning/">Planning</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">How-Tos</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../howto/how_to_document_code/">How to document code</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../howto/how_to_install_apollo_kernel/">How to install Apollo kernel</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../howto/how_to_launch_Apollo/">How to launch and run Apollo</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">CN Specific How-Tos</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../howto/how_to_solve_slow_pull_from_cn/">How to Solve GitHub Slow Pull</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../howto/how_to_install_apollo_kernel_cn/">How to install Apollo kernel</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">FAQs</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">General</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../FAQs/General_FAQs/">English Version</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../FAQs/General_FAQs_cn/">Chinese Version</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Calibration</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../FAQs/Calibration_FAQs/">English Version</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../FAQs/Calibration_FAQs_cn/">Chinese Version</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../FAQs/Perception_FAQs/">Perception</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../FAQs/Dreamview_FAQs/">Dreamview</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Hardware</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../FAQs/Hardware_FAQs/">English Version</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../FAQs/Hardware_FAQs_cn/">Chinese Version</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Software</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../FAQs/Software_FAQs/">English Version</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../FAQs/Software_FAQs_cn/">Chinese Version</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">D-Kit</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../../specs/D-kit/readme/">[CN] Introduction</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Apollo Docs</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
    
    <li>Apollo 2.5 Hardware and System Installation Guide</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/ApolloAuto/apollo/edit/master/docs/quickstart/apollo_2_5_hardware_system_installation_guide_v1.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="apollo-25-hardware-and-system-installation-guide">Apollo 2.5 Hardware and System Installation Guide<a class="headerlink" href="#apollo-25-hardware-and-system-installation-guide" title="Permanent link">#</a></h2>
<ul>
<li><a href="#about-this-guide">About This Guide</a><ul>
<li><a href="#document-conventions">Document Conventions</a></li>
</ul>
</li>
<li><a href="#introduction">Introduction</a><ul>
<li><a href="#documentation">Documentation</a></li>
</ul>
</li>
<li><a href="#key-hardware-components">Key Hardware Components</a><ul>
<li><a href="#additional-components-required">Additional Components Required</a></li>
<li><a href="#onboard-computer-system---ipc">Onboard Computer System - IPC</a><ul>
<li><a href="#ipc-configuration">IPC Configuration</a></li>
<li><a href="#ipc-front-and-side-views">IPC Front and Side Views</a></li>
</ul>
</li>
<li><a href="#controller-area-network-can-card">Controller Area Network (CAN) Card</a></li>
<li><a href="#global-positioning-system-gps-and-inertial-measurement-unit-imu">Global Positioning System (GPS) and Inertial Measurement Unit (IMU)</a><ul>
<li><a href="#option-1-the-novatel-span-igm-a1">Option 1: The NovAtel SPAN-IGM-A1</a></li>
<li><a href="#option-2-the-novatel-span-propak6-and-novatel-imu-igm-a1">Option 2: The NovAtel SPAN ProPak6 and NovAtel IMU-IGM-A1</a></li>
</ul>
</li>
<li><a href="#the-gps-receiverantenna">The GPS Receiver/Antenna</a></li>
</ul>
</li>
<li><a href="#overview-of-the-installation-tasks">Overview of the Installation Tasks</a></li>
<li><a href="#steps-for-the-installation-tasks">Steps for the Installation Tasks</a><ul>
<li><a href="#at-the-office">At the Office</a><ul>
<li><a href="#preparing-the-ipc">Preparing the IPC</a></li>
<li><a href="#installing-the-software-for-the-ipc">Installing the Software for the IPC</a></li>
</ul>
</li>
<li><a href="#in-the-vehicle">In the Vehicle</a><ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#diagrams-of-the-major-component-installations">Diagrams of the Major Component Installations</a></li>
<li><a href="#installing-the-gps-receiver-and-antenna">Installing the GPS Receiver and Antenna</a></li>
<li><a href="#installing-the-light-detection-and-ranging-system-lidar">Installing the Light Detection and Ranging System (LiDAR)</a></li>
<li><a href="#installing-the-cameras">Installing the Cameras</a></li>
<li><a href="#installing-the-radar">Installing the Radar</a></li>
<li><a href="#installing-the-ipc">Installing the IPC</a></li>
<li><a href="#configuring-the-gps-and-imu">Configuring the GPS and IMU</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#setting-up-the-network">Setting up the Network</a><ul>
<li><a href="#recommendations">Recommendations</a></li>
</ul>
</li>
<li><a href="#additional-tasks-required">Additional Tasks Required</a></li>
<li><a href="#next-steps">Next Steps</a></li>
</ul>
<h2 id="about-this-guide">About This Guide<a class="headerlink" href="#about-this-guide" title="Permanent link">#</a></h2>
<p>The <em>Apollo 2.5 Hardware and System Installation Guide</em> provides the instructions to install all of the hardware components and system software for the <strong>Apollo Project</strong>. The system installation information included pertains to the procedures to download and install the Apollo Linux Kernel.</p>
<h3 id="document-conventions">Document Conventions<a class="headerlink" href="#document-conventions" title="Permanent link">#</a></h3>
<p>The following table lists the conventions that are used in this document:</p>
<table>
<thead>
<tr>
<th><strong>Icon</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Bold</strong></td>
<td>Emphasis</td>
</tr>
<tr>
<td><code>Mono-space font</code></td>
<td>Code, typed data</td>
</tr>
<tr>
<td><em>Italic</em></td>
<td>Titles of documents, sections, and headings Terms used</td>
</tr>
<tr>
<td><img alt="info" src="../images/info_icon.png" /></td>
<td><strong>Info</strong>  Contains information that might be useful.  Ignoring the Info icon has no negative consequences.</td>
</tr>
<tr>
<td><img alt="tip" src="../images/tip_icon.png" /></td>
<td><strong>Tip</strong>. Includes helpful hints or a shortcut that might assist you in completing a task.</td>
</tr>
<tr>
<td><img alt="online" src="../images/online_icon.png" /></td>
<td><strong>Online</strong>. Provides a link to a particular web site where you can get more information.</td>
</tr>
<tr>
<td><img alt="warning" src="../images/warning_icon.png" /></td>
<td><strong>Warning</strong>. Contains information that must <strong>not</strong> be ignored or you risk failure when you perform a certain task or step.</td>
</tr>
</tbody>
</table>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">#</a></h2>
<p>The <strong>Apollo Project</strong> is an initiative that provides an open, complete, and reliable software platform for Apollo partners in the automotive and autonomous driving industries. The aim of this project is to enable these entities to develop their own self-driving systems based on Apollo software stack.</p>
<h3 id="documentation">Documentation<a class="headerlink" href="#documentation" title="Permanent link">#</a></h3>
<p>The following set of documentation describes Apollo 2.5:</p>
<ul>
<li>
<p><strong><em><u>[Apollo Hardware and System Installation Guide]</u></em></strong>  ─ Provides the instructions to install the hardware components and the system software for the vehicle:</p>
<ul>
<li>
<p><strong>Vehicle</strong>:</p>
</li>
<li>
<p>Industrial PC (IPC)</p>
</li>
<li>Global Positioning System (GPS)</li>
<li>Inertial Measurement Unit (IMU)</li>
<li>Controller Area Network (CAN) card</li>
<li>GPS Antenna</li>
<li>GPS Receiver</li>
<li>Light Detection and Ranging System (LiDAR)</li>
<li>Camera</li>
<li>
<p>Radar</p>
</li>
<li>
<p><strong>Software</strong>:</p>
</li>
<li>Ubuntu Linux</li>
<li>Apollo Linux Kernel</li>
<li>NVIDIA GPU Driver</li>
</ul>
</li>
<li>
<p><strong><em><u>[Apollo Quick Start Guide]</u></em></strong> ─ A combination of tutorial and roadmap that provides the complete set of end-to-end instructions. The Quick Start Guide also provides links to additional documents that describe the conversion of a regular car to an autonomous-driving vehicle.</p>
</li>
</ul>
<h2 id="key-hardware-components">Key Hardware Components<a class="headerlink" href="#key-hardware-components" title="Permanent link">#</a></h2>
<p>The key hardware components to install include:</p>
<ul>
<li>Onboard computer system ─ Neousys Nuvo-6108GC</li>
<li>Controller Area Network (CAN) Card ─ ESD CAN-PCIe/402-B4</li>
<li>General Positioning System (GPS) and Inertial Measurement Unit (IMU) ─
  You can select one of the following options:</li>
<li>NovAtel SPAN-IGM-A1</li>
<li>NovAtel SPAN® ProPak6™ and NovAtel IMU-IGM-A1</li>
<li>Light Detection and Ranging System (LiDAR) ─ Velodyne HDL-64E S3</li>
<li>Cameras — Leopard Imaging LI-USB30-AR023ZWDR with USB 3.0 case</li>
<li>Radar — Continental ARS408-21</li>
</ul>
<h3 id="additional-components-required">Additional Components Required<a class="headerlink" href="#additional-components-required" title="Permanent link">#</a></h3>
<p>You need to provide these additional components for the Additional Tasks Required:</p>
<ul>
<li>A 4G router for Internet access</li>
<li>A USB hub for extra USB ports</li>
<li>A monitor, keyboard, and mouse for debugging at the car onsite</li>
<li>Cables:a Digital Visual Interface (DVI) cable (optional), a customized cable for GPS-LiDAR time synchronization</li>
<li>Apple iPad Pro: 9.7-inch, Wi-Fi (optional)</li>
</ul>
<p>The features of the key hardware components are presented in the subsequent sections.</p>
<h3 id="onboard-computer-system-ipc">Onboard Computer System - IPC<a class="headerlink" href="#onboard-computer-system-ipc" title="Permanent link">#</a></h3>
<p>The onboard computer system is an industrial PC (IPC) for the autonomous vehicle and uses the <strong>NeousysNuvo-6108GC</strong> that is powered by a sixth-generation Intel Xeon E3 1275 V5 CPU.</p>
<p>The Neousys Nuvo-6108GC is the central unit of the autonomous driving system (ADS).</p>
<h4 id="ipc-configuration">IPC Configuration<a class="headerlink" href="#ipc-configuration" title="Permanent link">#</a></h4>
<p>Configure the IPC as follows:</p>
<ul>
<li>ASUS GTX1080 GPU-A8G-Gaming GPU Card</li>
<li>32GB DDR4 RAM</li>
<li>PO-280W-OW 280W AC/DC power adapter</li>
<li>2.5" SATA Hard Disk 1TB 7200rpm</li>
</ul>
<h4 id="ipc-front-and-side-views">IPC Front and Side Views<a class="headerlink" href="#ipc-front-and-side-views" title="Permanent link">#</a></h4>
<p>The front and side views of the IPC are shown with the Graphics Processing Unit (GPU) installed in the following pictures:</p>
<p>The front view of the Nuvo-6108GC:</p>
<p><img alt="ipc_front" src="../images/IPC-6108GC-front-side.jpg" /></p>
<p>The side view of the Nuvo-6108GC:</p>
<p><img alt="ipc_back" src="../images/IPC-6108GC-left-side.jpg" /></p>
<p>For more information about the Nuvo-6108GC, see:</p>
<p><img alt="online" src="../images/online_icon.png" />
Neousys Nuvo-6108GC Product Page:</p>
<p><a href="http://www.neousys-tech.com/en/product/application/rugged-embedded/nuvo-6108gc-gpu-computing">http://www.neousys-tech.com/en/product/application/rugged-embedded/nuvo-6108gc-gpu-computing</a></p>
<p><img alt="online" src="../images/online_icon.png" />
Neousys Nuvo-6108GC-Manual:</p>
<p><strong>[Link unavailable yet]</strong></p>
<h3 id="controller-area-network-can-card">Controller Area Network (CAN) Card<a class="headerlink" href="#controller-area-network-can-card" title="Permanent link">#</a></h3>
<p>The CAN card to use with the IPC is <strong>ESD</strong> <strong>CAN-PCIe/402-B4</strong>.</p>
<p><img alt="can_card" src="../images/CAN-B4.png" /></p>
<p>For more information about the CAN-PCIe/402-B4, see:</p>
<p><img alt="online" src="../images/online_icon.png" />    ESD CAN-PCIe/402 Product Page:</p>
<p><a href="https://esd.eu/en/products/can-pcie402">https://esd.eu/en/products/can-pcie402</a></p>
<h3 id="global-positioning-system-gps-and-inertial-measurement-unit-imu">Global Positioning System (GPS) and Inertial Measurement Unit (IMU)<a class="headerlink" href="#global-positioning-system-gps-and-inertial-measurement-unit-imu" title="Permanent link">#</a></h3>
<p>There are <strong>two</strong> GPS-IMU <strong>options</strong> available and the choice depends upon the one that most fits your needs:</p>
<ul>
<li><strong>Option 1: NovAtel SPAN-IGM-A1</strong></li>
<li><strong>Option 2: NovAtel SPAN® ProPak6™ and NovAtel IMU-IGM-A1</strong></li>
</ul>
<h4 id="option-1-the-novatel-span-igm-a1">Option 1: The NovAtel SPAN-IGM-A1<a class="headerlink" href="#option-1-the-novatel-span-igm-a1" title="Permanent link">#</a></h4>
<p>The NovAtel SPAN-IGM-A1 is an integrated, single-box solution that offers tightly coupled Global Navigation Satellite System (GNSS) positioning and inertial navigation featuring the NovAtel OEM615 receiver.</p>
<p><img alt="novatel_imu" src="../images/Novatel_imu.png" /></p>
<p>For more information about the NovAtel SPAN-IGM-A1, see:</p>
<p><img alt="online" src="../images/online_icon.png" /> NovAtel SPAN-IGM-A1 Product Page:</p>
<p><a href="https://www.novatel.com/products/span-gnss-inertial-systems/span-combined-systems/span-igm-a1/">https://www.novatel.com/products/span-gnss-inertial-systems/span-combined-systems/span-igm-a1/</a></p>
<h4 id="option-2-the-novatel-span-propak6-and-novatel-imu-igm-a1">Option 2: The NovAtel SPAN ProPak6 and NovAtel IMU-IGM-A1<a class="headerlink" href="#option-2-the-novatel-span-propak6-and-novatel-imu-igm-a1" title="Permanent link">#</a></h4>
<p>NovAtel ProPak6 is a standalone GNSS receiver. It works with a separate NovAtel- supported IMU (in this case, the NovAtel IMU-IGM-A1)to provide localization.</p>
<p>The ProPak6 provides the latest and most sophisticated enclosure product manufactured by NovAtel.</p>
<p>The IMU-IGM-A1 is an IMU that pairs with a SPAN-enabled GNSS receiver such as the SPAN ProPak6.</p>
<p><img alt="novatel_pp6" src="../images/Novatel_pp6.png" /></p>
<p>For more information about the NovAtel SPAN ProPak6 and the IMU-IGM-A1, see:</p>
<p><img alt="online" src="../images/online_icon.png" /> NovAtel ProPak6 Installation &amp; Operation Manual:</p>
<p><a href="https://www.novatel.com/assets/Documents/Manuals/OM-20000148.pdf">https://www.novatel.com/assets/Documents/Manuals/OM-20000148.pdf</a></p>
<p><img alt="online" src="../images/online_icon.png" />NovAtel IMU-IGM-A1 Product Page:</p>
<p><a href="https://www.novatel.com/products/span-gnss-inertial-systems/span-imus/span-mems-imus/imu-igm-a1/#overview">https://www.novatel.com/products/span-gnss-inertial-systems/span-imus/span-mems-imus/imu-igm-a1/#overview</a></p>
<h3 id="the-gps-receiverantenna">The GPS Receiver/Antenna<a class="headerlink" href="#the-gps-receiverantenna" title="Permanent link">#</a></h3>
<p>The GPS Receiver/Antenna used with the GPS-IMU component is:</p>
<h4 id="option-1-the-novatel-gps-703-ggg-hv">Option 1: The <strong>NovAtel GPS-703-GGG-HV</strong>.<a class="headerlink" href="#option-1-the-novatel-gps-703-ggg-hv" title="Permanent link">#</a></h4>
<p><strong>NOTE:</strong>The GPS NovAtelGPS-703-GGG-HV works with either model of the two GPS-IMU options that are described in the previous section, Global Positioning System (GPS) and Inertial Measurement Unit (IMU).</p>
<p><img alt="gps_receiver" src="../images/gps_receiver.png" /></p>
<p>For more information about the NovAtel GPS-703-GGG-HV, see:</p>
<p><img alt="online" src="../images/online_icon.png" /> NovAtel GPS-703-GGG-HV Product Page:</p>
<p><a href="https://www.novatel.com/products/gnss-antennas/high-performance-gnss-antennas/gps-703-ggg-hv/">https://www.novatel.com/products/gnss-antennas/high-performance-gnss-antennas/gps-703-ggg-hv/</a></p>
<h4 id="option-2-dual-novatel-gnss-502">Option 2: <strong>Dual NovAtel GNSS-502</strong><a class="headerlink" href="#option-2-dual-novatel-gnss-502" title="Permanent link">#</a></h4>
<p><strong>NOTE:</strong>The NovAtel GNSS-502 works with either model of the two GPS-IMU options that are described in the previous section, Global Positioning System (GPS) and Inertial Measurement Unit (IMU).  Dual antenna receivers, such as the ProPak6 can take advantage of better quality heading information, by using 2 antennas.</p>
<p><img alt="gps_receiver" src="../images/novatel_gnss-502.png" /></p>
<p>For more information about the NovAtel GNSS-502, see:</p>
<p><img alt="online" src="../images/online_icon.png" /> NovAtel GNSS-502 Product Page:</p>
<p><a href="https://www.novatel.com/products/gnss-antennas/vexxis-series-antennas/vexxis-gnss-500-series-antennas/">https://www.novatel.com/products/gnss-antennas/vexxis-series-antennas/vexxis-gnss-500-series-antennas/</a></p>
<h3 id="light-detection-and-ranging-system-lidar">Light Detection and Ranging System (LiDAR)<a class="headerlink" href="#light-detection-and-ranging-system-lidar" title="Permanent link">#</a></h3>
<p>The 64 line LiDAR system <strong>HDL-64E S3</strong> is available from Velodyne LiDAR, Inc.</p>
<p><img alt="lidar_image" src="../images/lidar_pic.png" /></p>
<p><strong>Key Features:</strong></p>
<ul>
<li>64 Channels</li>
<li>120m range</li>
<li>2.2 Million Points per Second</li>
<li>360° Horizontal FOV</li>
<li>26.9° Vertical FOV</li>
<li>0.08° angular resolution (azimuth)</li>
<li>&lt;2cm accuracy</li>
<li>~0.4° Vertical Resolution</li>
<li>User selectable frame rate</li>
<li>Rugged Design</li>
</ul>
<p><img alt="online" src="../images/online_icon.png" />Webpage for Velodyne HDL-64E S3:
<a href="http://velodynelidar.com/hdl-64e.html">http://velodynelidar.com/hdl-64e.html</a></p>
<p>The 16 line LiDAR system VLP-16 is available from Velodyne LiDAR, Inc.</p>
<p><img alt="lidar_image" src="../images/lidar_pic_16.png" /></p>
<p><strong>Key Features:</strong></p>
<ul>
<li>16 Channels</li>
<li>100m range</li>
<li>600,000 Points per Second</li>
<li>360° Horizontal FOV</li>
<li>±15° Vertical FOV</li>
<li>Low Power Consumption</li>
<li>Protective Design</li>
</ul>
<p><img alt="online" src="../images/online_icon.png" />Webpage for Velodyne VLP-16:
<a href="http://velodynelidar.com/vlp-16.html">http://velodynelidar.com/vlp-16.html</a></p>
<h3 id="cameras">Cameras<a class="headerlink" href="#cameras" title="Permanent link">#</a></h3>
<p>The cameras used are LI-USB30-AR023ZWDR with standard USB 3.0 case manufactured by Leopard Imaging Inc. We recommend using two cameras with 6 mm lens and one with 25 mm lens to achieve the required performance.</p>
<p><img alt="camera_image" src="../images/LI-camera.png" /></p>
<p><img alt="online" src="../images/online_icon.png" />You can find more information at Leopard Imaging Inc. website:</p>
<p><a href="https://leopardimaging.com/product/li-usb30-ar023zwdr/">https://leopardimaging.com/product/li-usb30-ar023zwdr/</a></p>
<h3 id="radar">Radar<a class="headerlink" href="#radar" title="Permanent link">#</a></h3>
<p>The Radar used is ARS408-21 manufactured by Continental AG.</p>
<p><img alt="radar_image" src="../images/ARS-408-21.jpg" /></p>
<p><img alt="online" src="../images/online_icon.png" />You can find more information can be found on the product page:</p>
<p><a href="https://www.continental-automotive.com/Landing-Pages/Industrial-Sensors/Products/ARS-408-21">https://www.continental-automotive.com/Landing-Pages/Industrial-Sensors/Products/ARS-408-21</a></p>
<h2 id="overview-of-the-installation-tasks">Overview of the Installation Tasks<a class="headerlink" href="#overview-of-the-installation-tasks" title="Permanent link">#</a></h2>
<p>Installing the hardware and the software components involves these tasks:</p>
<p><strong>AT THE OFFICE:</strong>
1. Prepare and install the Controller Area Network (CAN) card by first repositioning the CAN card termination jumper before you insert the card into the slot.</p>
<ol>
<li>
<p>Install the hard drive (if none was pre-installed) in the IPC.</p>
<p>You can also choose to replace a pre-installed hard drive if you prefer.</p>
<p><strong>Recommendations</strong> :
- Install a Solid-State Drive (SSD) for better reliability.
- Use a high-capacity drive if you need to collect driving data.</p>
</li>
<li>
<p>Prepare the IPC for powering up:
    a. Attach the power cable to the power connector (terminal block).
    b. Connect the monitor, Ethernet, keyboard, and mouse to the IPC.
    c. Connect the IPC to a power source.</p>
</li>
<li>
<p>Install the software on the IPC (some Linux experience is required):
    a. Install Ubuntu Linux.
    b. Install the Apollo Linux kernel.</p>
</li>
</ol>
<p><strong>IN THE VEHICLE:</strong></p>
<ul>
<li>
<p>Make sure that all the modifications for the vehicle, which are listed in the section Prerequisites, have been performed.</p>
</li>
<li>
<p>Install the major components (according to the illustrations and the instructions included in this document):</p>
<ul>
<li>GPS Antenna</li>
<li>IPC</li>
<li>GPS Receiver and IMU</li>
<li>LiDAR</li>
<li>Cameras</li>
<li>Radar</li>
</ul>
</li>
</ul>
<p>The actual steps to install all of the hardware and software components are detailed in the section, Steps for the Installation Tasks.</p>
<h2 id="steps-for-the-installation-tasks">Steps for the Installation Tasks<a class="headerlink" href="#steps-for-the-installation-tasks" title="Permanent link">#</a></h2>
<p>This section describes the steps to install:</p>
<ul>
<li>The key hardware and software components</li>
<li>The hardware in the vehicle</li>
</ul>
<h3 id="at-the-office">At the Office<a class="headerlink" href="#at-the-office" title="Permanent link">#</a></h3>
<p>Perform the following tasks:</p>
<ul>
<li>
<p>Prepare the IPC:</p>
<ul>
<li>Install the CAN card</li>
<li>Install or replace the hard drive</li>
<li>Prepare the IPC for powering up</li>
</ul>
</li>
<li>
<p>Install the software for the IPC:</p>
<ul>
<li>Ubuntu Linux</li>
<li>Apollo Kernel</li>
<li>Nvidia GPU Driver</li>
</ul>
</li>
</ul>
<h4 id="preparing-the-ipc">Preparing the IPC<a class="headerlink" href="#preparing-the-ipc" title="Permanent link">#</a></h4>
<p>Follow these steps:
1. Prepare and install the Controller Area Network (CAN) card:<br />
  In the Neousys Nuvo-6108GC, ASUS® GTX-1080GPU-A8G-GAMING GPU card is pre-installed into one of the three PCI slots. We still need to install a CAN card into a PCI slot. 
  a. Locate and unscrew the eight screws (shown in the brown squares or pointed by brown arrows) on the side of computer:
  <img alt="Positions_of_Screws" src="../images/IPC-6108GC-Screw-Positions_labeled.png" />b. Remove the cover from the IPC. 3 PCI slots (one occupied by the   graphic card) locate on the base:</p>
<p><img alt="removing the cover" src="../images/Removing_the_cover.jpg" /></p>
<p><img alt="Before installing the CAN card" src="../images/Before_installing_the_can_card.png" /></p>
<p>c. Set the CAN card termination jumper by removing the red jumper cap (shown in yellow circles) from its default location and placing it at its termination position:</p>
<p><img alt="prepare_can_card" src="../images/prepare_can_card2.png" /></p>
<p><strong><img alt="warning" src="../images/warning_icon.png" />WARNING</strong>: The CAN card will not work if the termination jumper is not set correctly.</p>
<p>d. Insert the CAN card into the slot in the IPC:</p>
<p><img alt="installed CAN" src="../images/After_installing_the_CAN_Card.png" /></p>
<p>e. Reinstall the cover for the IPC</p>
<p><img alt="IPC-6108GC-Screw-Positions.png" src="../images/IPC-6108GC-Screw-Positions.png" /></p>
<ol>
<li>Prepare the IPC for powering up:</li>
</ol>
<p>a. Attach the power cable to the power connector (terminal block) that comes with the IPC:</p>
<p><img alt="warning_icon" src="../images/warning_icon.png" /><strong>WARNING</strong>: Make sure that the positive(labeled <strong>R</strong>  for red) and the negative(labeled <strong>B</strong> for black) wires of the power cable are inserted into the correct holes on the power terminal block.</p>
<p><img alt="ipc_power_RB" src="../images/ipc_power_RB.png" /></p>
<p>b. Connect the monitor, Ethernet cable, keyboard, and mouse to the IPC:</p>
<ol>
<li><img alt="IPC-6108GC-CableConnected-overexposed.png" src="../images/IPC-6108GC-CableConnected-overexposed.png" /></li>
</ol>
<p><img alt="warning" src="../images/tip_icon.png" />It is recommended to configure the fan speed through BIOS settings, if one or more plugin card is added to the system</p>
<pre><code>- While starting up the computer, press F2 to enter BIOS setup menu.
- Go to [Advanced] =&gt; [Smart Fan Setting]
- Set [Fan Max. Trip Temp] to 50
- Set [Fan Start Trip Temp] to 20
</code></pre>
<p><img alt="tip_icon" src="../images/tip_icon.png" />It is recommended that you use a Digital Visual Interface (DVI) connector on the graphic card for the monitor. To set the display to the DVI port on the motherboard, following is the setting procedure:</p>
<pre><code>- While starting up the computer, press F2 to enter BIOS setup menu.
- Go to [Advanced]=&gt;[System Agent (SA) Configuration]=&gt;[Graphics Configuration]=&gt;[Primary Display]=&gt; Set to "PEG"
</code></pre>
<p><img alt="tip_icon" src="../images/tip_icon.png" />It is recommended to configure the IPC to run at maximum performance mode at all time:
     - While starting up the computer, press F2 to enter BIOS setup menu.
     - Go to [Power] =&gt; [SKU POWER CONFIG] =&gt; set to "MAX. TDP"</p>
<p>c. Connect the power: </p>
<p><img alt="IPC-6108GC-PowerCable.jpg" src="../images/IPC-6108GC-PowerCable.jpg" /></p>
<h4 id="installing-the-software-for-the-ipc">Installing the Software for the IPC<a class="headerlink" href="#installing-the-software-for-the-ipc" title="Permanent link">#</a></h4>
<p>This section describes the steps to install:</p>
<ul>
<li>Ubuntu Linux</li>
<li>Apollo Kernel</li>
<li>Nvidia GPU Driver</li>
</ul>
<p><img alt="tip_icon" src="../images/tip_icon.png" />It is assumed that you have experience working with Linux to successfully perform the software installation.</p>
<h5>Installing Ubuntu Linux</h5>
<p>Follow these steps:</p>
<ol>
<li>
<p>Create a bootable Ubuntu Linux USB flash drive:</p>
<p>Download Ubuntu (or a variant such as Xubuntu) and follow the online instructions to create a bootable USB flash drive.</p>
</li>
</ol>
<p><img alt="tip_icon" src="../images/tip_icon.png" />It is recommended that you use <strong>Ubuntu 14.04.3</strong>.</p>
<p><img alt="tip_icon" src="../images/tip_icon.png" />You can type F2 during the system boot process to enter the BIOS settings. It is recommended that you disable Quick Boot and Quiet Boot in the BIOS to make it easier to catch any issues in the boot process.</p>
<p>For more information about Ubuntu, see:</p>
<p><img alt="online_icon" src="../images/online_icon.png" /> Ubuntu for Desktop web site:</p>
<p><a href="https://www.ubuntu.com/desktop">https://www.ubuntu.com/desktop</a></p>
<ol>
<li>
<p>Install Ubuntu Linux:</p>
<p>a.   Insert the Ubuntu installation drive into a USB port and turn on the system.
b.   Install Linux by following the on-screen instructions.</p>
</li>
<li>
<p>Perform a software update and the installation:
    a.   Reboot into Linux after the installation is done.
    b.   Launch the Software Updater to update to the latest software packages (for the installed distribution) or type the following commands in a terminal program such as GNOME Terminal.
    <code>shell
    sudo apt-get update; sudo apt-get upgrade</code></p>
<p>c. Launch a terminal program such as GNOME Terminal and type the following command to install the Linux 4.4 kernel:
<code>shell
sudo apt-get install linux-generic-lts-xenial</code></p>
</li>
</ol>
<p><img alt="tip_icon" src="../images/tip_icon.png" />The IPC must have Internet access to update and install software. Make sure that the Ethernet cable is connected to a network with Internet access. You might need to configure the network for the IPC if the network that it is connected to is not using the Dynamic Host Configuration Protocol (DHCP).</p>
<h5>Installing the Apollo Kernel</h5>
<p>The Apollo runtime in the vehicle requires the <a href="https://github.com/ApolloAuto/apollo-kernel">Apollo Kernel</a>. It is strongly recommended to install the pre-built kernel.</p>
<h6>Use the pre-built Apollo Kernel.</h6>
<p>You get access to and install the pre-built kernel using the following commands.</p>
<ol>
<li>Download the release packages from the release section on GitHub:</li>
</ol>
<pre><code>https://github.com/ApolloAuto/apollo-kernel/releases
</code></pre>

<ol>
<li>Install the kernel after having downloading the release package:</li>
</ol>
<pre><code>tar zxvf linux-4.4.32-apollo-1.5.0.tar.gz
cd install
sudo bash install_kernel.sh
</code></pre>

<ol>
<li>
<p>Reboot your system using the <code>reboot</code> command.</p>
</li>
<li>
<p>Build the ESD CAN driver source code, according to <a href="https://github.com/ApolloAuto/apollo-kernel/blob/master/linux/ESDCAN-README.md">ESDCAN-README.md</a></p>
</li>
</ol>
<h6>Build your own kernel.</h6>
<p>If have modified the kernel, or the pre-built kernel is not the best for your platform, you can build your own kernel using the following steps.</p>
<ol>
<li>Clone the code from the repository</li>
</ol>
<pre><code>git clone https://github.com/ApolloAuto/apollo-kernel.git
cd apollo-kernel
</code></pre>

<ol>
<li>
<p>Add the ESD CAN driver source code according to <a href="https://github.com/ApolloAuto/apollo-kernel/blob/master/linux/ESDCAN-README.md">ESDCAN-README.md</a></p>
</li>
<li>
<p>Build the kernel using the following command.</p>
</li>
</ol>
<pre><code>bash build.sh
</code></pre>

<ol>
<li>Install the kernel using the steps for a pre-built Apollo Kernel as described in the previous section.</li>
</ol>
<h5>Installing NVIDIA GPU Driver</h5>
<p>The Apollo runtime in the vehicle requires the <a href="http://www.nvidia.com/download/driverResults.aspx/114708/en-us">NVIDIA GPU Driver</a>. You must install the NVIDIA GPU driver with specific options.</p>
<ol>
<li>Download the installation files</li>
</ol>
<pre><code>wget http://us.download.nvidia.com/XFree86/Linux-x86_64/375.39/NVIDIA-Linux-x86_64-375.39.run
</code></pre>

<ol>
<li>Start the installation</li>
</ol>
<pre><code>sudo bash ./NVIDIA-Linux-x86_64-375.39.run --no-x-check -a -s --no-kernel-module
</code></pre>

<h6>Optional: Test the ESD CAN device node</h6>
<p>After rebooting the IPC with the new kernel:</p>
<p>a. Create the CAN device node by issuing the following commands in a terminal:</p>
<pre><code class="shell">cd /dev 
sudo mknod –-mode=a+rw can0 c 52 0
sudo mknod –-mode=a+rw can1 c 52 1
</code></pre>

<p>b. Test the CAN device node using the test program that is part of the ESD CAN software package that you have acquired from ESD Electronics.</p>
<p>The IPC is now ready to be mounted on the vehicle.</p>
<h3 id="in-the-vehicle">In the Vehicle<a class="headerlink" href="#in-the-vehicle" title="Permanent link">#</a></h3>
<p>Perform these tasks:</p>
<ul>
<li>Make the necessary modifications to the vehicle as specified in the list of prerequisites</li>
<li>Install the major components:<ul>
<li>GPS Antenna</li>
<li>IPC</li>
<li>GPS Receiver and IMU</li>
<li>LiDAR's</li>
<li>Cameras</li>
<li>Radar</li>
</ul>
</li>
</ul>
<h4 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">#</a></h4>
<p><strong><img alt="warning_icon" src="../images/warning_icon.png" />WARNING</strong>: Prior to mounting the major components (GPS Antenna, IPC, and GPS Receiver) in the vehicle, perform certain modifications as specified in the list of prerequisites. The instructions for making the mandatory changes in the list are outside the scope of this document.</p>
<p>The list of prerequisites are as follows:</p>
<ul>
<li>The vehicle must be modified for “drive-by-wire” technology by a professional service company. Also, a CAN interface hookup must be provided in the trunk where the IPC will be mounted.</li>
<li>A power panel must be installed in the trunk to provide power to the IPC and the GPS-IMU. The power panel would also service other devices in the vehicle such as a 4G LTE router. The power panel should be hooked up to the power system in the vehicle.</li>
<li>A custom-made rack must be installed to mount the GPS-IMU Antenna, the cameras and the LiDAR's on top of the vehicle.</li>
<li>A custom-made rack must be installed to mount the GPS-IMU in the trunk.</li>
<li>A custom-made rack must be installed in front of the vehicle to mount the front-facing radar.</li>
<li>A 4G LTE router must be mounted in the trunk to provide Internet access for the IPC. The router must have built-in Wi-Fi access point (AP) capability to connect to other devices, such as an iPad, to interface with the autonomous driving (AD) system. A user would be able to use the mobile device to start AD mode or monitor AD status, for example.</li>
</ul>
<h4 id="diagrams-of-the-major-component-installations">Diagrams of the Major Component Installations<a class="headerlink" href="#diagrams-of-the-major-component-installations" title="Permanent link">#</a></h4>
<p>The following two diagrams indicate the locations of where the three major components (GPS Antenna, IPC, GPS Receiver and LiDAR) should be installed on the vehicle:</p>
<p><img alt="major_component_side_view" src="../images/Car_Sideview_2_5.png" /></p>
<p><img alt="major_component_rear_view" src="../images/Car_Rearview.png" /></p>
<h4 id="installing-the-gps-receiver-and-antenna">Installing the GPS Receiver and Antenna<a class="headerlink" href="#installing-the-gps-receiver-and-antenna" title="Permanent link">#</a></h4>
<p>This section provides general information about installing <strong>one</strong> of two choices:</p>
<ul>
<li><strong>Option 1:</strong> GPS-IMU: <strong>NovAtel SPAN-IGM-A1</strong></li>
<li><strong>Option 2:</strong> GPS-IMU: <strong>NovAtel SPAN® ProPak6™ and NovAtel IMU-IGM-A1</strong></li>
</ul>
<h5>Option 1: Installing the NovAtel SPAN-IGM-A1</h5>
<p>The installation instructions describe the procedures to mount, connect, and take the lever arm measurements for the GPS-IMU NovAtel SPAN-IGM-A1.</p>
<h6>Mounting</h6>
<p>You can place the GPS-IMU NovAtel SPAN-IGM-A1 in most places in the vehicle but it is suggested that you follow these recommendations:</p>
<ul>
<li>Place and secure the NovAtel SPAN-IGM-A1 inside the trunk with the Y-axis pointing forward.</li>
<li>Mount the NovAtel GPS-703-GGG-HV antenna in an unobscured location on top of the vehicle.</li>
</ul>
<h6>Wiring</h6>
<p>You must connect two cables:</p>
<ul>
<li>The antenna cable connects the GNSS antenna to the antenna port of the SPAN-IGM-A1</li>
<li>The main cable:<ul>
<li>Connects its 15-pin end to the SPAN-IGM-A1</li>
<li>Connects its power wires to a power supply of 10-to-30V DC</li>
<li>Connects its serial port to the IPC. If the power comes from a vehicle battery, add an auxiliary battery (recommended).</li>
</ul>
</li>
</ul>
<p><img alt="imu_main_cable_connection" src="../images/imu_main_cable_connection.png" /></p>
<p>Main Cable Connections</p>
<p>For more information, see the <em>SPAN-IGM™ Quick Start Guide</em>, page 3, for a detailed diagram:</p>
<p><img alt="online_icon" src="../images/online_icon.png" />SPAN-IGM™ Quick Start Guide</p>
<p><a href="http://www.novatel.com/assets/Documents/Manuals/GM-14915114.pdf">http://www.novatel.com/assets/Documents/Manuals/GM-14915114.pdf</a></p>
<h6>Taking the Lever Arm Measurement</h6>
<p>When the SPAN-IGM-A1 and the GPS Antenna are in position, the distance from the SPAN-IGM-A1 to the GPS Antenna must be measured. The distance should be measured as: X offset, Y offset, and Z offset.</p>
<p>The error of offset must be within one centimeter to achieve high accuracy. For more information, see the <em>SPAN-IGM™ Quick Start Guide</em>, page 5, for a detailed diagram.</p>
<p>For an additional information about the SPAN-IGM-A1, see:</p>
<p><img alt="online_icon" src="../images/online_icon.png" />SPAN-IGM™ User Manual:</p>
<p><a href="http://www.novatel.com/assets/Documents/Manuals/OM-20000141.pdf">http://www.novatel.com/assets/Documents/Manuals/OM-20000141.pdf</a></p>
<h5>Option 2: Installing NovAtel SPAN® ProPak6™ and NovAtel IMU-IGM-A1</h5>
<p>The installation instructions describe the procedures to mount, connect, and take the lever arm measurements for the GPS NovAtel SPAN® ProPak6™ <strong>and</strong> the NovAtel IMU-IGM-A1.</p>
<h6>Components for the Installation</h6>
<p>The components that are required for the installation include:</p>
<ul>
<li>
<p>NovAtel GPS SPAN ProPak6</p>
</li>
<li>
<p>NovAtel IMU-IGM-A1</p>
</li>
<li>
<p>NovAtel GPS-703-GGG-HV Antenna</p>
</li>
<li>
<p>NovAtel GPS-C006 Cable (to connect antenna to GPS)</p>
</li>
<li>
<p>NovAtel 01019014 Main Cable (to connect GPS to a serial port the IPC)</p>
</li>
<li>
<p>Data Transport Unit (DTU) – similar to a 4G router</p>
</li>
<li>
<p>Magnetic adapters (for antenna and DTU)</p>
</li>
<li>
<p>DB9 Straight Through Cable</p>
</li>
</ul>
<h6>Mounting</h6>
<p>You can place the two devices, the ProPak6 and the IMU in most places in the vehicle, but it is suggested that you follow these recommendations:</p>
<ul>
<li>Place and secure the ProPak6 and the IMU side-by-side inside the trunk with the Y-axis pointing forward.</li>
<li>Mount the NovAtel GPS-703-GGG-HV antenna on top of the vehicle or on top of the trunk lid as shown:</li>
</ul>
<p><img alt="gps_receiver_on_car" src="../images/gps_receiver_on_car.png" /></p>
<ul>
<li>Use a magnetic adapter to tightly attach the antenna to the trunk lid.</li>
<li>Install the antenna cable in the trunk by opening the trunk and placing the cable in the space between the trunk lid and the body of the car.</li>
</ul>
<h6>Wiring</h6>
<p>Follow these steps to connect the ProPak6 GNSS Receiver and the IMU to the Apollo system:</p>
<ol>
<li>Use the split cable that comes with IMU-IGM-A1 to connect the IMU Main port and theProPak6 COM3/IMU port.</li>
<li>Use a USB-A-to-MicroUSB cable to connect the USB port of the IPC and the MicroUSB port of the ProPak6.</li>
<li>Connect the other end of the IMU-IGM-A1 split cable to the vehicle power.</li>
<li>Connect the GNSS antenna to Propak6.</li>
<li>Connect the Propak6 power cable.</li>
</ol>
<p><img alt="wiring" src="../images/wiring.png" /></p>
<p>For more information about the NovAtel SPAN ProPak6, see:</p>
<p><img alt="online_icon" src="../images/online_icon.png" />NovAtel ProPak6 Installation&amp; Operation Manual:</p>
<p><a href="https://www.novatel.com/assets/Documents/Manuals/OM-20000148.pdf">https://www.novatel.com/assets/Documents/Manuals/OM-20000148.pdf</a></p>
<h4 id="installing-the-light-detection-and-ranging-system-lidar">Installing the Light Detection and Ranging System (LiDAR)<a class="headerlink" href="#installing-the-light-detection-and-ranging-system-lidar" title="Permanent link">#</a></h4>
<p>This section provides descriptions on the installation procedure of HDL-64E S3 LiDAR.</p>
<h5>Mounting</h5>
<p>A customized mounting structure is required to successfully mount an HDL64E S3 LiDAR on top of a vehicle. This structure must provide rigid support to the LiDAR system while raising the LiDAR to a certain height above the ground. This height avoids the laser beams from the LiDAR being blocked by the front and/or rear of the vehicle. The actual height needed for the LiDAR depends on the design of the vehicle and the mounting point of the LiDAR relative to the vehicle. The vertical tilt angle of the lasers normally ranges from +2~-24.8 degrees relative to the horizon. To fully use the angle range for detection, on a Lincoln MKZ, it is recommended that you mount the LiDAR at a minimum height of 1.8 meters (from ground to the base of the LiDAR).</p>
<h5>Wiring</h5>
<p>Each HDL-64E S3 LiDAR includes a cable bundle to connect the LiDAR to the power supply, the computer (Ethernet for data transfer, and serial port for LiDAR configuration) and the GPS timesync source. </p>
<p><img alt="LiDAR_Cable" src="../images/HDL64_Cable_whitened_labeled.png" /></p>
<ol>
<li>Connection to the LiDAR</li>
</ol>
<p>Connect the power and signal cable to the matching ports on the LiDAR</p>
<p><img alt="HDL64_Cabling" src="../images/HDL64_Cabling.jpg" /></p>
<ol>
<li>Connection to Power Source</li>
</ol>
<p>The two AWG 16 wires are used to power HDL-64E S3 LiDAR. It requires about 3A at 12V. To connect the power source, make full contact with the wires and tighten the screws. </p>
<p><img alt="HDL64_Power_Cable" src="../images/HDL64_PowerCable.jpg" /></p>
<ol>
<li>Conection to IPC</li>
</ol>
<p>The connection to the IPC is through an ethernet cable. Plug the ethernet connector in the cable bundle into an ethernet port on the IPC</p>
<ol>
<li>Connection to GPS:</li>
</ol>
<p>The HDL64E S3 LiDAR requires the recommended minimum specific GPS/Transit data (GPRMC) and pulse per second (PPS) signal to synchronize to the GPS time. A customized connection is needed to establish the communication between the GPS receiver and the LiDAR:</p>
<p>a. SPAN-IGM-A1</p>
<p>If you configured the SPAN-IGM-A1 as specified in <a href="#configuring-the-gps-and-imu">Configuring the GPS and IMU</a>, the GPRMC signal is sent from the GPS receiver via the User Port cable from the Main port. The PPS signal is sent through the wire cables labeled as “PPS” and “PPS dgnd” from the Aux port. The dash-line boxes in the figure below show the available connections that come with the HDL64E S3 LiDAR and the SPAN-IGM-A1 GPS receiver. The remaining connections must be made by the user.</p>
<p><img alt="Wiring_Schematics_IGM_A1" src="../images/LiDAR_A1_wiring.png" /></p>
<p>b. Propak 6 and IMU-IGM-A1</p>
<p>If you configured the Propak 6 as specified in <a href="#configuring-the-gps-and-imu">Configuring the GPS and IMU</a>, the GPRMC signal is sent from the GPS receiver via COM2 port. The PPS signal is sent through the IO port. The dash-line boxes in the figure below are available connections that comes with the HDL-64E S3 LiDAR and the Propak 6 GPS receiver. The remaining connections need to be made by the user. </p>
<p><img alt="Wiring_Schematics_PP6" src="../images/LiDAR_PP6_wiring.png" /></p>
<ol>
<li>Connection through serial port for LiDAR configuration</li>
</ol>
<p>You can configure some of the low-level parameters through serial port. Within the cable bundle provided by Velodyne LiDAR, Inc., there are two pairs of red/black cables as shown in the pinout table below. The thicker pair (AWG 16) is used to power the LiDAR system. The thinner pair is used for serial connection. Connect the black wire (Serial In) to RX, the red wire to the Ground wire of a serial cable. Connect the serial cable with a USB-serial adapter to your selected computer. </p>
<p><img alt="pinout_table" src="../images/pinout_table.png" /></p>
<p>#### Configuration</p>
<p>By default, the HDL-64E S3 has the network IP address setting as 192.168.0.1. However, when you set up for Apollo, change the network IP address to 192.168.20.13 . You can use the terminal application with Termite3.2 and enter the network setting command. The IP address of the HDL-64E S3 can be configured using the following steps:</p>
<ol>
<li>
<p>Connect one side of the serial cable to your  laptop</p>
</li>
<li>
<p>Connect the other side of the serial cable to HDL-64E S3’s serial wires</p>
</li>
<li>
<p>Use the following COM port default setting:</p>
<p>Baudrate: 9600</p>
<p>Parity: None</p>
<p>Data bits: 8</p>
<p>Stop bits: 1</p>
</li>
<li>
<p>Use the COM port application:</p>
<p>Download Termite3.2 from the link below and install it on your laptop (Windows): </p>
<p><a href="http://www.compuphase.com/software_termite.htm">http://www.compuphase.com/software_termite.htm</a></p>
</li>
<li>
<p>Use the serial cable connection for COM port between the HDL-64E S3 and the laptop:</p>
<p><img alt="Serial cable connected to laptop.png" src="../images/Serial_cable_connected_to_laptop.png" /></p>
</li>
<li>
<p>Launch <strong>Termite 3.2</strong> from laptop </p>
</li>
<li>
<p>Issue a serial command for setting up the HDL-64E S3’s IP addresses over serial port "#HDLIPA192168020013192168020255"</p>
</li>
<li>
<p>The unit must be power cycled to adopt the new IP addresses</p>
<p><img alt="Issuing the serial command" src="../images/Issuing_the_serial_command.png" /></p>
<p><img alt="online_icon" src="../images/online_icon.png" />HDL-64E S3 Manual can be found on this webpage:</p>
<p><a href="http://velodynelidar.com/hdl-64e.html">http://velodynelidar.com/hdl-64e.html</a></p>
</li>
</ol>
<h5>(Optional) Installation of VLP-16 lidar</h5>
<p>In Apollo 2.5, map creation service has been opened to the public. To acquire the data necessary for map creation, one would need to install an additional VLP-16 LiDAR on the vehicle. The purpose of this LiDAR is to collect point cloud information for objects above the FOV of the HDL-64 S3 Lidar, such as traffic lights and signs. It requires a customized rack to mount the VLP-16 Lidar on top of the vehicle. The figure below shows one of the possible configurations. <img alt="VLP_16_installation" src="../images/VLP16_install_configuration.jpg" /></p>
<p>In this specific configuration, the VLP-16 LiDAR is mounted with an upward tilt of 20±2°. The power cable of the VLP-16 is connected to the DataSpeed power panel. The ethernet connection is connected to the IPC (possibly through an ethernet switch). Similar to HDL-64 S3 LiDAR, the VLP-16 GPRMC and PPS input from the GPS receiver. Ideally, additional hardware should be installed to duplicate the GPRMC and PPS signal from the GPS receiver send to HDL-64 and VLP-16 respectively. However, a simple Y-split cable may also provide adequate signal for both LiDAR's. To distinguish from the HDL-64 S3 LiDAR, please follow the VLP-16 manual and use the webpage interface to configure the IP of VLP-16 to 192.168.20.14, the data port to 2369, and the telemetry port to 8309. The pinout for the signal input from GPS receiver can also be found in the manual if you need customized cable.</p>
<p><img alt="online_icon" src="../images/online_icon.png" />VLP-16 Manual can be found on this webpage:</p>
<p><a href="http://velodynelidar.com/vlp-16.htmll">http://velodynelidar.com/vlp-16.html</a></p>
<h4 id="installing-the-cameras">Installing the Cameras<a class="headerlink" href="#installing-the-cameras" title="Permanent link">#</a></h4>
<p>This section provides guidelines for the camera installation procedure.</p>
<p>The Apollo reference design recommends using three cameras with different focal lengths: two with 6 mm lens and one with 25 mm lens. The location of these cameras are very flexible, they can be placed on the side of LiDAR or inside of the front windshield. The mounting of the cameras can be tailored to the actual design of the system. </p>
<ul>
<li>
<p>All the cameras should face forward to the driving direction. The field of view (FOV) should be kept free from obstructions as much as possible.</p>
</li>
<li>
<p><img alt="Cameras_lock_screw" src="../images/LI-Camera-OnVehicle.png" /></p>
</li>
<li>
<p>The camera with the 25 mm focal length should be tilted up by about two degrees. After you make this adjustment, the 25 mm camera should be able to observe the traffic light from 100 m away to the stop line at the intersection.</p>
</li>
<li>
<p>The lenses of the cameras, out of the package, are not in the optimal position. Set up the correct position by adjusting the focus of the lens to form a sharp image of a target object at a distance. A good target to image is a traffic sign or a street sign within the FOV. After adjusting the focus, use the lock screw to secure the position of the lens.</p>
</li>
</ul>
<p><img alt="Cameras_lock_screw" src="../images/LI-Camera-LockScrew.png" /></p>
<ul>
<li>Use USB 3.0 Cables to connect the cameras (USB 3.0 Micro-B) and the IPC(USB 3.0 type A), and then use screws to secure the connection.</li>
</ul>
<h4 id="installing-the-radar">Installing the Radar<a class="headerlink" href="#installing-the-radar" title="Permanent link">#</a></h4>
<p>This section provides descriptions of the installation procedure of Continental Radar. </p>
<p>The radar requires a matching mechanical rack to mount on the front bumper. After the installation, it is required that the radar faces towards the driving direction and slightly tilts up by no more than two degrees. </p>
<p><img alt="Radar Installations" src="../images/Radar_OnVehicle.png" /></p>
<p>The cable that comes with the radar needs to be routed to the back of the car and connected to the CAN1 channel of the ESD CAN card.</p>
<h4 id="installing-the-ipc">Installing the IPC<a class="headerlink" href="#installing-the-ipc" title="Permanent link">#</a></h4>
<p>Follow these steps:</p>
<ol>
<li>
<p>Use a voltage converter/regulator to convert the 12 VDC output from the vehicle to desired voltage to power IPC. </p>
<p>As recommended by Neousys, use a 12 VDC to 19 VDC converter with maximal output current of 20 A. </p>
<p><img alt="voltage_regulater_converter" src="../images/voltage_converter2.jpg" /></p>
<p>a.  Connect the two 19 VDC output wires to IPC's power connector (Green as shown below).</p>
<p><img alt="ipc_power_RB" src="../images/ipc_power_RB.png" /></p>
<p>b. Connect the two cables of 12 VDC input to the power panel in the vehicle. If the size of the wire is too thick, the wire should be split to several wires and connect to corresponding ports, respectively.</p>
<p><img alt="warning" src="../images/warning_icon.png" />This step is required. If the input voltage goes below the required limit, it can cause system failure.</p>
</li>
<li>
<p>Place the onboard computer system, the 6108GC, inside the trunk (recommended).</p>
<p>For example, Apollo 2.5 uses 4x4 self-tapping screws to bolt the 6108GC to the carpeted floor of the trunk. <img alt="IPC-bolt_down-936x720" src="../images/Mount_ipc_on_carpet.jpg" /></p>
</li>
<li>
<p>Mount the IPC so that its front and back sides(where all ports are located) face the right side (passenger) or the left side(driver) of the trunk.</p>
</li>
</ol>
<p>This positioning makes it easier to connect all of the cables.</p>
<p>For more information, see:</p>
<p><img alt="online_icon" src="../images/online_icon.png" />Neousys Nuvo-6108GC – Manual:</p>
<p><strong>[Link Unavailable]</strong></p>
<ol>
<li>
<p>Connect all cables, which include:</p>
</li>
<li>
<p>Power cable</p>
</li>
<li>
<p>Controller Area Network (CAN) cable</p>
</li>
<li>
<p>Ethernet cable from the 4G router to the IPC</p>
</li>
<li>
<p>GPS Receiver to the IPC</p>
</li>
<li>
<p>(Optional) Monitor, keyboard, mouse</p>
</li>
</ol>
<p>a. Connect the power cable to the IPC (as shown):</p>
<p>b. Connect the other end of the power cable to the vehicle battery (as shown):</p>
<p><img alt="IPC-power-cable" src="../images/IPC-power-cable.jpg" /></p>
<p>c. Connect the DB9 cable to the IPC to talk to the CAN (as shown):</p>
<p><img alt="DB9_cable" src="../images/DB9_cable.png" /></p>
<p>d. Connect:</p>
<ul>
<li>
<p>the Ethernet cable from the 4G router to the IPC </p>
</li>
<li>
<p>the GPS Receiver to the IPC </p>
</li>
<li>
<p>(optional) the monitor:</p>
</li>
</ul>
<p><img alt="IPC-power-842x636" src="../images/cable_connected_incar.jpg" /></p>
<h5>Taking the Lever Arm Measurement</h5>
<p>Follow these steps:</p>
<ol>
<li>
<p>Before taking the measurement, turn on the IPC.</p>
</li>
<li>
<p>When the IMU and the GPS Antenna are in position, the distance from the IMU to the GPS Antenna must be measured. The distance should be measured as: X offset, Y offset, and Z offset. The error of offset must be within one centimeter to achieve high accuracy in positioning and localization.</p>
</li>
</ol>
<p>For an additional information, see:</p>
<p><img alt="online_icon" src="../images/online_icon.png" />NovAtel ProPak6 Installation &amp; Operation Manual:</p>
<p><a href="https://www.novatel.com/assets/Documents/Manuals/OM-20000148.pdf">https://www.novatel.com/assets/Documents/Manuals/OM-20000148.pdf</a></p>
<p><img alt="online_icon" src="../images/online_icon.png" />NovAtel SPAN-IGM-A1 Product Page:</p>
<p><a href="https://www.novatel.com/products/span-gnss-inertial-systems/span-combined-systems/span-igm-a1/">https://www.novatel.com/products/span-gnss-inertial-systems/span-combined-systems/span-igm-a1/</a></p>
<h4 id="configuring-the-gps-and-imu">Configuring the GPS and IMU<a class="headerlink" href="#configuring-the-gps-and-imu" title="Permanent link">#</a></h4>
<p>Configure the GPS and IMU as shown:</p>
<pre><code>WIFICONFIG STATE OFF
UNLOGALL THISPORT
INSCOMMAND ENABLE
SETIMUORIENTATION 5
ALIGNMENTMODE AUTOMATIC  
VEHICLEBODYROTATION 0 0 0
COM COM1 9600 N 8 1 N OFF OFF
COM COM2 9600 N 8 1 N OFF OFF
INTERFACEMODE COM1 NOVATEL NOVATEL ON
PPSCONTROL ENABLE POSITIVE 1.0 10000
MARKCONTROL MARK1 ENABLE POSITIVE
EVENTINCONTROL MARK1 ENABLE POSITIVE 0 2
interfacemode usb2 rtcmv3 none off
rtksource auto any
psrdiffsource auto any

SETIMUTOANTOFFSET 0.00 1.10866 1.14165 0.05 0.05 0.08
SETINSOFFSET 0 0 0
EVENTOUTCONTROL MARK2 ENABLE POSITIVE 999999990 10
EVENTOUTCONTROL MARK1 ENABLE POSITIVE 500000000 500000000


LOG COM2 GPRMC ONTIME 1.0 0.25
LOG USB1 GPGGA ONTIME 1.0

log USB1 bestgnssposb ontime 1
log USB1 bestgnssvelb ontime 1
log USB1 bestposb ontime 1
log USB1 INSPVAXB ontime 1
log USB1 INSPVASB ontime 0.01
log USB1 CORRIMUDATASB ontime 0.01
log USB1 RAWIMUSXB onnew 0 0
log USB1 mark1pvab onnew

log USB1 rangeb ontime 1
log USB1 bdsephemerisb
log USB1 gpsephemb
log USB1 gloephemerisb
log USB1 bdsephemerisb ontime 15
log USB1 gpsephemb ontime 15
log USB1 gloephemerisb ontime 15

log USB1 imutoantoffsetsb once
log USB1 vehiclebodyrotationb onchanged
 
SAVECONFIG


</code></pre>

<p>For ProPak6:</p>
<pre><code>WIFICONFIG STATE OFF
UNLOGALL THISPORT
CONNECTIMU COM3 IMU_ADIS16488
INSCOMMAND ENABLE
SETIMUORIENTATION 5
ALIGNMENTMODE AUTOMATIC  
VEHICLEBODYROTATION 0 0 0
COM COM1 9600 N 8 1 N OFF OFF
COM COM2 9600 N 8 1 N OFF OFF
INTERFACEMODE COM1 NOVATEL NOVATEL ON
PPSCONTROL ENABLE POSITIVE 1.0 10000
MARKCONTROL MARK1 ENABLE POSITIVE
EVENTINCONTROL MARK1 ENABLE POSITIVE 0 2
interfacemode usb2 rtcmv3 none off
rtksource auto any
psrdiffsource auto any
SETIMUTOANTOFFSET 0.00 1.10866 1.14165 0.05 0.05 0.08
SETINSOFFSET 0 0 0
EVENTOUTCONTROL MARK2 ENABLE POSITIVE 999999990 10
EVENTOUTCONTROL MARK1 ENABLE POSITIVE 500000000 500000000


LOG COM2 GPRMC ONTIME 1.0 0.25
LOG USB1 GPGGA ONTIME 1.0

log USB1 bestgnssposb ontime 1
log USB1 bestgnssvelb ontime 1
log USB1 bestposb ontime 1
log USB1 INSPVAXB ontime 1
log USB1 INSPVASB ontime 0.01
log USB1 CORRIMUDATASB ontime 0.01
log USB1 RAWIMUSXB onnew 0 0
log USB1 mark1pvab onnew

log USB1 rangeb ontime 1
log USB1 bdsephemerisb
log USB1 gpsephemb
log USB1 gloephemerisb
log USB1 bdsephemerisb ontime 15
log USB1 gpsephemb ontime 15
log USB1 gloephemerisb ontime 15

log USB1 imutoantoffsetsb once
log USB1 vehiclebodyrotationb onchanged
 
SAVECONFIG
</code></pre>

<p><strong><img alt="warning_icon" src="../images/warning_icon.png" /> WARNING:</strong> Modify the <strong><u>SETIMUTOANTOFFSE</u>T</strong> line based on the actual measurement (of the antenna and the IMU offset).</p>
<p>For example:</p>
<pre><code>SETIMUTOANTOFFSET -0.05 0.5 0.8 0.05 0.05 0.08
</code></pre>

<h2 id="setting-up-the-network">Setting up the Network<a class="headerlink" href="#setting-up-the-network" title="Permanent link">#</a></h2>
<p>This section provides recommendations for setting up the network.</p>
<p>The IPC that is running the Apollo software must access the Internet to acquire the Real Time Kinematic (RTK) data for accurate localization. A mobile device also needs to connect to the IPC to run the Apollo software.</p>
<h3 id="recommendations">Recommendations<a class="headerlink" href="#recommendations" title="Permanent link">#</a></h3>
<p>It is recommended that you set up your network according to the following diagram:</p>
<p><img alt="4G_network_setup" src="../images/4G-LTE-setup-6108GC.png" /></p>
<p>Follow these steps:</p>
<ol>
<li>
<p>Install and configure a 4G LTE router with Wi-Fi Access Point (AP) capability and Gigabit Ethernet ports.</p>
</li>
<li>
<p>Connect the IPC to the LTE router using an Ethernet cable.</p>
</li>
<li>
<p>Configure the LTE router to access the Internet using the LTE cellular network.</p>
</li>
<li>
<p>Configure the AP capability of the LTE router so that the iPad Pro or another mobile device can connect to the router, and, in turn, connect to the IPC.</p>
</li>
</ol>
<p><img alt="tip_icon" src="../images/tip_icon.png" />It is recommended that you configure a fixed IP instead of using DHCP on the IPC to make it easier to connect to it from a mobile terminal.</p>
<h2 id="additional-tasks-required">Additional Tasks Required<a class="headerlink" href="#additional-tasks-required" title="Permanent link">#</a></h2>
<p>Use the components that you were required to provide to perform the following tasks:</p>
<ol>
<li>
<p>Connect a monitor using the DVI or the HDMI cables and connect the keyboard and mouse to perform debugging tasks at the car onsite.</p>
</li>
<li>
<p>Establish a Wi-Fi connection on the Apple iPad Pro to access the HMI and control the Apollo ADS that is running on the IPC.</p>
</li>
</ol>
<h2 id="time-sync-script-setup-optional">Time Sync Script Setup [Optional]<a class="headerlink" href="#time-sync-script-setup-optional" title="Permanent link">#</a></h2>
<p>In order to, sync the computer time to the NTP server on the internet, you could use the <a href="https://github.com/ApolloAuto/apollo/blob/master/scripts/time_sync.sh">Time Sync script</a></p>
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">#</a></h2>
<p>After you complete the hardware installation in the vehicle, see the <a href="https://github.com/ApolloAuto/apollo/blob/master/docs/quickstart/apollo_2_5_quick_start.md">Apollo Quick Start</a> for the steps to complete the software installation.</p>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/ApolloAuto/apollo/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
